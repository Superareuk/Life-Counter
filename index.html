<!DOCTYPE html>
<html>
<head>
   <title>Life Dashboard</title>
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <style>
       body {
           margin: 0;
           padding: 20px;
           font-family: Arial, sans-serif;
           background: #1a1a1a;
           color: white;
           min-height: 100vh;
       }

       .dashboard {
           display: grid;
           grid-template-columns: 1fr 1fr;
           gap: 15px;
           max-width: 1200px;
           margin: 0 auto;
       }

       .countdown {
           grid-column: 1 / -1;
           text-align: center;
           font-size: 1.2em;
           margin-bottom: 10px;
       }

       .time-unit {
           display: inline-block;
           background: #333;
           padding: 10px;
           margin: 0 5px;
           border-radius: 5px;
           min-width: 60px;
       }

       .progress-section {
           background: #333;
           padding: 15px;
           border-radius: 10px;
       }

       .progress-bar {
           background: #444;
           height: 25px;
           border-radius: 12px;
           margin: 10px 0;
           overflow: hidden;
       }

       .progress {
           height: 100%;
           background: #4CAF50;
           transition: width 0.3s ease;
       }

       .dual-progress {
           display: flex;
       }

       .life-segment {
           background: #4CAF50;
           height: 100%;
       }

       .memorial-segment {
           background: #ff4444;
           height: 100%;
       }

       h2 {
           margin: 0 0 15px 0;
           font-size: 1.2em;
       }

       h3 {
           margin: 10px 0 5px 0;
           font-size: 1em;
       }

       .stats {
           font-size: 0.9em;
           margin: 5px 0;
       }

       .highlight {
           color: #4CAF50;
           font-weight: bold;
       }

       .warning {
           color: #ff4444;
       }
   </style>
</head>
<body>
   <div class="dashboard">
       <div class="countdown" id="mainTimer">
           <div class="time-unit" id="years"></div>
           <div class="time-unit" id="months"></div>
           <div class="time-unit" id="weeks"></div>
           <div class="time-unit" id="days"></div>
           <div class="time-unit" id="hours"></div>
           <div class="time-unit" id="minutes"></div>
           <div class="time-unit" id="seconds"></div>
       </div>

       <div class="progress-section">
           <h2>Life Progress (to 70)</h2>
           <div class="progress-bar">
               <div class="progress" id="lifeProgress"></div>
           </div>
           <div class="stats" id="lifeStats"></div>
       </div>

       <div class="progress-section">
           <h2>Family</h2>
           <h3>Becca (Since 2006)</h3>
           <div class="progress-bar">
               <div class="progress" id="beccaProgress"></div>
           </div>
           <div class="stats" id="beccaStats"></div>

           <h3>Charlotte (Until 20)</h3>
           <div class="progress-bar">
               <div class="progress" id="charlotteProgress"></div>
           </div>
           <div class="stats" id="charlotteStats"></div>

           <h3>Beau (Until 20)</h3>
           <div class="progress-bar">
               <div class="progress" id="beauProgress"></div>
           </div>
           <div class="stats" id="beauStats"></div>

           <h3>Jack</h3>
           <div class="progress-bar">
               <div class="dual-progress" id="jackTimeline"></div>
           </div>
           <div class="stats" id="jackStats"></div>
       </div>

       <div class="progress-section">
           <h2>Health Impact</h2>
           <div class="progress-bar">
               <div class="progress warning" id="lightDrinking"></div>
           </div>
           <div class="stats" id="lightStats"></div>
           
           <div class="progress-bar">
               <div class="progress warning" id="moderateDrinking"></div>
           </div>
           <div class="stats" id="moderateStats"></div>
           
           <div class="progress-bar">
               <div class="progress warning" id="heavyDrinking"></div>
           </div>
           <div class="stats" id="heavyStats"></div>
       </div>

       <div class="progress-section">
           <h2>Special Moments</h2>
           <div class="stats" id="specialDates"></div>
       </div>
   </div>

   <script>
       // Constants
       const BIRTH_DATE = new Date('1990-03-30');
       const TARGET_AGE = new Date('2060-03-30');
       const BECCA_START = new Date('2006-04-01');
       const CHARLOTTE_BIRTH = new Date('2017-02-15');
       const BEAU_BIRTH = new Date('2020-06-22');
       const JACK_BIRTH = new Date('2015-08-11');
       const JACK_PASSING = new Date('2020-02-10');

       function updateDashboard() {
           const now = new Date();
           updateMainTimer(now);
           updateLifeProgress(now);
           updateFamily(now);
           updateHealth(now);
           updateSpecialMoments(now);
       }

       function updateMainTimer(now) {
           const timeLeft = TARGET_AGE - now;
           const units = calculateTimeUnits(timeLeft);
           
           Object.entries(units).forEach(([unit, value]) => {
               const element = document.getElementById(unit);
               if (element) {
                   element.textContent = `${value} ${unit}`;
               }
           });
       }

       function calculateTimeUnits(ms) {
           const seconds = Math.floor(ms / 1000);
           const minutes = Math.floor(seconds / 60);
           const hours = Math.floor(minutes / 60);
           const days = Math.floor(hours / 24);
           const weeks = Math.floor(days / 7);
           const months = Math.floor(days / 30.44);
           const years = Math.floor(days / 365.25);

           return {
               years: years,
               months: months % 12,
               weeks: weeks % 4,
               days: days % 7,
               hours: hours % 24,
               minutes: minutes % 60,
               seconds: seconds % 60
           };
       }

       function updateLifeProgress(now) {
           const totalLife = TARGET_AGE - BIRTH_DATE;
           const lived = now - BIRTH_DATE;
           const percentage = (lived / totalLife) * 100;

           document.getElementById('lifeProgress').style.width = `${percentage}%`;
           document.getElementById('lifeStats').textContent = 
               `${percentage.toFixed(2)}% complete | ${Math.floor(lived / (365.25 * 24 * 60 * 60 * 1000))} years lived`;
       }

       function updateFamily(now) {
           // Becca
           const beccaTotal = TARGET_AGE - BECCA_START;
           const beccaLived = now - BECCA_START;
           const beccaPercentage = (beccaLived / beccaTotal) * 100;
           
           // Charlotte
           const charlotteEnd = new Date(CHARLOTTE_BIRTH.getTime() + (20 * 365.25 * 24 * 60 * 60 * 1000));
           const charlotteTotal = charlotteEnd - CHARLOTTE_BIRTH;
           const charlottePassed = now - CHARLOTTE_BIRTH;
           const charlottePercentage = (charlottePassed / charlotteTotal) * 100;
           
           // Beau
           const beauEnd = new Date(BEAU_BIRTH.getTime() + (20 * 365.25 * 24 * 60 * 60 * 1000));
           const beauTotal = beauEnd - BEAU_BIRTH;
           const beauPassed = now - BEAU_BIRTH;
           const beauPercentage = (beauPassed / beauTotal) * 100;
           
           // Jack
           const jackTotal = now - JACK_BIRTH;
           const jackLife = JACK_PASSING - JACK_BIRTH;
           const jackMemorial = now - JACK_PASSING;
           const jackLifePercent = (jackLife / jackTotal) * 100;
           const jackMemorialPercent = (jackMemorial / jackTotal) * 100;

           // Update displays
           updateProgressBar('becca', beccaPercentage);
           updateProgressBar('charlotte', charlottePercentage);
           updateProgressBar('beau', beauPercentage);
           
           document.getElementById('jackTimeline').innerHTML = `
               <div class="life-segment" style="width: ${jackLifePercent}%"></div>
               <div class="memorial-segment" style="width: ${jackMemorialPercent}%"></div>
           `;
       }

       function updateProgressBar(id, percentage) {
           document.getElementById(`${id}Progress`).style.width = `${percentage}%`;
       }

       function updateHealth(now) {
           const impacts = {
               light: 2,
               moderate: 5,
               heavy: 10
           };

           Object.entries(impacts).forEach(([level, years]) => {
               const adjustedTarget = new Date(TARGET_AGE.getTime() - (years * 365.25 * 24 * 60 * 60 * 1000));
               const total = adjustedTarget - BIRTH_DATE;
               const lived = now - BIRTH_DATE;
               const percentage = (lived / total) * 100;
               
               document.getElementById(`${level}Drinking`).style.width = `${percentage}%`;
               document.getElementById(`${level}Stats`).textContent = 
                   `${level}: -${years} years (${percentage.toFixed(2)}%)`;
           });
       }

       function updateSpecialMoments(now) {
           const charlotteYearsLeft = Math.floor((new Date(CHARLOTTE_BIRTH.getTime() + (20 * 365.25 * 24 * 60 * 60 * 1000)) - now) / (365.25 * 24 * 60 * 60 * 1000));
           const beauYearsLeft = Math.floor((new Date(BEAU_BIRTH.getTime() + (20 * 365.25 * 24 * 60 * 60 * 1000)) - now) / (365.25 * 24 * 60 * 60 * 1000));
           
           const minYears = Math.min(charlotteYearsLeft, beauYearsLeft);
           
           document.getElementById('specialDates').innerHTML = `
               Summers: ${minYears}<br>
               Christmases: ${minYears}<br>
               School Holidays: ${minYears * 3}<br>
               Weekends: ${minYears * 52}
           `;
       }

       // Initialize and start updates
       updateDashboard();
       setInterval(updateDashboard, 1000);
   </script>
</body>
</html>
